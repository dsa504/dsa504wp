{"version":3,"sources":["boot.js","event/event-json-ld.jsx","event/styles.js","event/index.jsx","calendar.jsx","config.js","app.js","index.js"],"names":["q","p","document","querySelector","boot","isInSidebar","sidebar","appTarget","contains","EventJsonLd","summary","description","start","end","location","type","dateTime","red","styles","root","background","paddingTop","paddingBottom","fontSize","link","color","name","margin","padding","clear","fullScreen","lineHeight","nameLink","composes","date","float","timespan","fontStyle","locationLink","dayjs","extend","advancedFormat","injectSheet","creator","classes","htmlLink","emailSubject","format","className","itemScope","itemType","itemProp","content","href","email","encodeURIComponent","dangerouslySetInnerHTML","__html","Calendar","error","isFetching","items","filter","setFilter","handleSetFilter","useCallback","e","target","value","realItems","undefined","filterOptions","uniq","map","get","sort","filteredItems","onChange","o","key","style","marginLeft","item","id","today","Date","timeMin","toISOString","timeMax","setMonth","getMonth","config","orderBy","singleEvents","App","props","requestUri","stringify","useFetch","data","useState","render"],"mappings":"+HAAMA,EAAI,SAAAC,GAAC,OAAIC,SAASC,cAAcF,IAkBvBG,EAhBF,WACX,IAAIC,GAAc,EAEZC,EAAUN,EAAE,YACZO,EAAYP,EAAE,gBAMpB,OAJIO,IACFF,EAAcC,GAAWA,EAAQE,SAASD,IAGrC,CACLA,YACAF,cAAeA,I,wCCQJI,EApBK,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,YAAaC,EAAzB,EAAyBA,MAAOC,EAAhC,EAAgCA,IAAKC,EAArC,EAAqCA,SAArC,OAClB,4BAAQC,KAAK,uBAAb,uGAKeL,EALf,qCAMsBC,EANtB,mCAOoBC,EAAMI,SAP1B,iCAQkBH,EAAIG,SARtB,+EAWgBF,EAXhB,mCAYoBA,EAZpB,6B,iBCFWG,EAAM,UAiDJC,EA/CA,CACbC,KAAM,CACJC,WAAY,OACZC,WAAY,GACZC,cAAe,GACfC,SAAU,IAEZC,KAAM,CACJC,MAXe,OAYf,mBAAoB,CAClBA,MAAOR,IAGXS,KAAM,CACJC,OAAQ,EACRC,QAAS,EACTC,MAAO,OACPN,SAAU,qBAAGO,WAA+B,GAAK,IACjDC,WAAY,qBAAGD,WAA+B,OAAS,SAEzDE,SAAU,CACRC,SAAU,SAEZtB,YAAa,CACXgB,OAAQ,EACRC,QAAS,EACTP,WAAY,IAEda,KAAM,CACJX,SAAU,qBAAGO,WAA+B,GAAK,IACjDC,WAAY,qBAAGD,WAA+B,OAAS,QACvDL,MAAOR,EACPkB,MAAO,qBAAGL,WAA+B,OAAS,SAEpDM,SAAU,CACRb,SAAU,qBAAGO,WAA+B,GAAK,IACjDL,MAAO,UACPU,MAAO,qBAAGL,WAA+B,QAAU,SAErDhB,SAAU,CACRuB,UAAW,UAEbC,aAAc,CACZL,SAAU,UCvCdM,IAAMC,OAAOC,KAEb,IAqDeC,MAAYxB,EAAZwB,EArDD,SAAC,GASR,IARLhC,EAQI,EARJA,QACAiC,EAOI,EAPJA,QACAhC,EAMI,EANJA,YACAG,EAKI,EALJA,SACAF,EAII,EAJJA,MACAC,EAGI,EAHJA,IACA+B,EAEI,EAFJA,QACAC,EACI,EADJA,SAEMC,EAAY,UAAMP,IAAM3B,EAAMI,UAAU+B,OAAO,WAAnC,YAAiDrC,GAEnE,OACE,yBAAKsC,UAAWJ,EAAQzB,KAAM8B,WAAS,EAACC,SAAS,2BAC/C,kBAAC,EAAgB,CAAExC,UAASC,cAAaC,QAAOC,MAAKC,aACrD,0BAAMqC,SAAS,YAAYC,QAASxC,EAAMI,WAC1C,6BACE,yBAAKgC,UAAWJ,EAAQV,MACtB,gCAASK,IAAM3B,EAAMI,UAAU+B,OAAO,SADxC,KAEKR,IAAM3B,EAAMI,UAAU+B,OAAO,YAElC,yBAAKC,UAAWJ,EAAQR,UACrBG,IAAM3B,EAAMI,UAAU+B,OAAO,UADhC,MAC8CR,IAAM1B,EAAIG,UAAU+B,OAAO,YAG3E,uBAAGM,KAAMR,EAAUG,UAAWJ,EAAQZ,UACpC,wBAAImB,SAAS,OAAOH,UAAWJ,EAAQlB,MACpChB,IAGL,uBACEsC,UAAWJ,EAAQpB,KACnB6B,KAAI,iBAAYV,EAAQW,MAApB,oBAAqCC,mBACvCT,KAHJ,4BAQA,uBACEE,UAAWJ,EAAQN,aACnBe,KAAI,yCAAoCE,mBAAmBzC,KAE3D,yBAAKkC,UAAWJ,EAAQ9B,UAAWA,IAErC,uBACEqC,SAAS,cACTH,UAAWJ,EAAQjC,YACnB6C,wBAAyB,CAAEC,OAAQ9C,S,QCG5B+C,EAtDE,SAAC,GAOX,IANLC,EAMI,EANJA,MACAC,EAKI,EALJA,WACAC,EAII,EAJJA,MACA/B,EAGI,EAHJA,WACAgC,EAEI,EAFJA,OACAC,EACI,EADJA,UAEMC,EAAkBC,uBACtB,SAAAC,GACEH,EAAUG,EAAEC,OAAOC,SAErB,CAACL,IAGH,GAAIH,EAAY,OAAO,sDAEvB,GAAID,IAAUE,EAAO,OAAO,KAE5B,IAAMQ,EAAYR,EAAMC,QAAO,SAAAI,GAAC,YAAgBI,IAAZJ,EAAEtD,SAEhC2D,EAAgBC,eACpBH,EAAUI,KAAI,SAAAP,GAAC,OAAIQ,cAAIR,EAAG,qBAC1BS,OAEIC,EAAgBd,EAClBO,EAAUP,QAAO,SAAAI,GAAC,OAAIQ,cAAIR,EAAG,mBAAqBJ,KAClDO,EAEJ,OACE,6BACE,yBAAKrB,UAAU,iBACb,4BAAQ6B,SAAUb,GAChB,4BAAQI,MAAM,IAAd,uCACCG,EAAcE,KAAI,SAAAK,GAAC,OAClB,4BAAQC,IAAKD,EAAGV,MAAOU,GACpBA,OAIP,uBACEE,MAAO,CAAEvD,MAAOR,EAAKgE,WAAY,QACjC5B,KAAK,+HAFP,4BAODuB,EAAcH,KAAI,SAAAS,GAAI,OACrB,kBAAC,EAAD,eAAOH,IAAKG,EAAKC,IAAQD,EAAU,CAAEpD,qB,QCrDvCsD,EAAQ,IAAIC,KACZC,EAAUF,EAAMG,cAChBC,EAAU,IAAIH,KAAKD,EAAMK,SAASL,EAAMM,WAAa,IAAIH,cAehDI,EARA,CACbZ,IAAK,0CACLa,QAAS,YACTC,cAAc,EACdP,UACAE,W,SCMaM,EAdH,SAAAC,GACV,IAAMC,EAAU,UDAK,mDCAL,YDFhB,uDCEgB,mBAAsCC,oBAAUN,IAD7C,EAEiBO,YAASF,GAArCG,EAFW,EAEXA,KAAMxC,EAFK,EAELA,MAAOC,EAFF,EAEEA,WAFF,EAISwC,mBAAS,IAJlB,mBAIZtC,EAJY,KAIJC,EAJI,KAKnB,OACE,kBAAC,EAAD,eACEF,MAAOsC,EAAOA,EAAKtC,MAAQ,IACvB,CAAEC,SAAQC,YAAWH,aAAYD,SACjCoC,K,ECVyB3F,IAA3BG,E,EAAAA,UAAWF,E,EAAAA,YAEfE,GACF8F,iBAAO,kBAAC,EAAD,CAAKvE,YAAazB,IAAiBE,I","file":"static/js/main.376b83fd.chunk.js","sourcesContent":["const q = p => document.querySelector(p);\n\nconst boot = () => {\n  let isInSidebar = false;\n\n  const sidebar = q(\"#sidebar\");\n  const appTarget = q(\"#dsa-cal-app\");\n\n  if (appTarget) {\n    isInSidebar = sidebar && sidebar.contains(appTarget);\n  }\n\n  return {\n    appTarget,\n    isInSidebar: !!isInSidebar\n  };\n};\n\nexport default boot;\n","import React from \"react\";\r\n\r\nconst EventJsonLd = ({ summary, description, start, end, location }) => (\r\n  <script type=\"application/ld+json\">\r\n    {`\r\n    {\r\n      \"@context\": \"http://www.schema.org\",\r\n      \"@type\": \"Event\",\r\n      \"name\", \"${summary}\",\r\n      \"description\": \"${description}\",\r\n      \"startDate\": \"${start.dateTime}\",\r\n      \"endDate\": \"${end.dateTime}\",\r\n      \"location\": {\r\n        \"@type\": \"Place\",\r\n        \"name\" \"${location}\",\r\n        \"address\": \"${location}\"\r\n      }\r\n    }\r\n    `}\r\n  </script>\r\n);\r\n\r\nexport default EventJsonLd;\r\n","export const blk = \"#222\";\r\nexport const red = \"#ec1f27\";\r\n\r\nconst styles = {\r\n  root: {\r\n    background: \"#fff\",\r\n    paddingTop: 20,\r\n    paddingBottom: 10,\r\n    fontSize: 16\r\n  },\r\n  link: {\r\n    color: blk,\r\n    \"&:hover, &:focus\": {\r\n      color: red\r\n    }\r\n  },\r\n  name: {\r\n    margin: 0,\r\n    padding: 0,\r\n    clear: \"left\",\r\n    fontSize: ({ fullScreen }) => (fullScreen ? 24 : 18),\r\n    lineHeight: ({ fullScreen }) => (fullScreen ? \"24px\" : \"18px\")\r\n  },\r\n  nameLink: {\r\n    composes: \"$link\"\r\n  },\r\n  description: {\r\n    margin: 0,\r\n    padding: 0,\r\n    paddingTop: 10\r\n  },\r\n  date: {\r\n    fontSize: ({ fullScreen }) => (fullScreen ? 22 : 16),\r\n    lineHeight: ({ fullScreen }) => (fullScreen ? \"24px\" : \"18px\"),\r\n    color: red,\r\n    float: ({ fullScreen }) => (fullScreen ? \"left\" : \"none\")\r\n  },\r\n  timespan: {\r\n    fontSize: ({ fullScreen }) => (fullScreen ? 18 : 13),\r\n    color: \"#797979\",\r\n    float: ({ fullScreen }) => (fullScreen ? \"right\" : \"none\")\r\n  },\r\n  location: {\r\n    fontStyle: \"italic\"\r\n  },\r\n  locationLink: {\r\n    composes: \"$link\"\r\n  }\r\n};\r\n\r\nexport default styles;\r\n","import React from \"react\";\r\nimport dayjs from \"dayjs\";\r\nimport advancedFormat from \"dayjs/plugin/advancedFormat\";\r\nimport EventJsonLd from \"./event-json-ld\";\r\nimport injectSheet from \"react-jss\";\r\nimport styles from \"./styles\";\r\n\r\ndayjs.extend(advancedFormat);\r\n\r\nconst Event = ({\r\n  summary,\r\n  creator,\r\n  description,\r\n  location,\r\n  start,\r\n  end,\r\n  classes,\r\n  htmlLink\r\n}) => {\r\n  const emailSubject = `${dayjs(start.dateTime).format(\"MMMM Do\")} ${summary}`;\r\n\r\n  return (\r\n    <div className={classes.root} itemScope itemType=\"http://schema.org/Event\">\r\n      <EventJsonLd {...{ summary, description, start, end, location }} />\r\n      <meta itemProp=\"startDate\" content={start.dateTime} />\r\n      <div>\r\n        <div className={classes.date}>\r\n          <strong>{dayjs(start.dateTime).format(\"dddd\")}</strong>\r\n          , {dayjs(start.dateTime).format(\"MMMM Do\")}\r\n        </div>\r\n        <div className={classes.timespan}>\r\n          {dayjs(start.dateTime).format(\"h:mm A\")} - {dayjs(end.dateTime).format(\"h:mm A\")}\r\n        </div>\r\n      </div>\r\n      <a href={htmlLink} className={classes.nameLink}>\r\n        <h4 itemProp=\"name\" className={classes.name}>\r\n          {summary}\r\n        </h4>\r\n      </a>\r\n      <a\r\n        className={classes.link}\r\n        href={`mailto:${creator.email}?subject=${encodeURIComponent(\r\n          emailSubject\r\n        )}`}\r\n      >\r\n        ✉ Contact organizer\r\n      </a>\r\n      <a\r\n        className={classes.locationLink}\r\n        href={`https://google.com/maps/search/${encodeURIComponent(location)}`}\r\n      >\r\n        <div className={classes.location}>{location}</div>\r\n      </a>\r\n      <p\r\n        itemProp=\"description\"\r\n        className={classes.description}\r\n        dangerouslySetInnerHTML={{ __html: description }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default injectSheet(styles)(Event);\r\n","import React, { useCallback } from \"react\";\r\nimport Event from \"./event\";\r\nimport { red } from \"./event/styles\";\r\nimport { get, uniq } from \"lodash\";\r\n\r\nconst Calendar = ({\r\n  error,\r\n  isFetching,\r\n  items,\r\n  fullScreen,\r\n  filter,\r\n  setFilter\r\n}) => {\r\n  const handleSetFilter = useCallback(\r\n    e => {\r\n      setFilter(e.target.value);\r\n    },\r\n    [setFilter]\r\n  );\r\n\r\n  if (isFetching) return <div>Fetching events…</div>;\r\n\r\n  if (error || !items) return null;\r\n\r\n  const realItems = items.filter(e => e.start !== undefined);\r\n\r\n  const filterOptions = uniq(\r\n    realItems.map(e => get(e, \"creator.email\"))\r\n  ).sort();\r\n\r\n  const filteredItems = filter\r\n    ? realItems.filter(e => get(e, \"creator.email\") === filter)\r\n    : realItems;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"events-filter\">\r\n        <select onChange={handleSetFilter}>\r\n          <option value=\"\">Filter by committee or caucus…</option>\r\n          {filterOptions.map(o => (\r\n            <option key={o} value={o}>\r\n              {o}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <a\r\n          style={{ color: red, marginLeft: \"auto\" }}\r\n          href=\"https://calendar.google.com/calendar/embed?src=vv0uj9uhqrl6j6m0pugu90uo6c%40group.calendar.google.com&ctz=America%2FChicago\"\r\n        >\r\n          Sync with your calendar\r\n        </a>\r\n      </div>\r\n      {filteredItems.map(item => (\r\n        <Event key={item.id} {...item} {...{ fullScreen }} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calendar;\r\n","const today = new Date();\nconst timeMin = today.toISOString();\nconst timeMax = new Date(today.setMonth(today.getMonth() + 3)).toISOString();\n\nexport const calendarId =\n  \"vv0uj9uhqrl6j6m0pugu90uo6c@group.calendar.google.com\";\n\nexport const baseUrl = \"https://www.googleapis.com/calendar/v3/calendars\";\n\nconst config = {\n  key: \"AIzaSyCdRWsjXcSzRorIYrysYNyFMGOuEcT2X4E\",\n  orderBy: \"startTime\",\n  singleEvents: true,\n  timeMin,\n  timeMax\n};\n\nexport default config;\n","import React, { useState } from \"react\";\nimport Calendar from \"./calendar\";\nimport { stringify } from \"query-string\";\nimport config, { calendarId, baseUrl } from \"./config\";\nimport { useFetch } from \"react-fetch-hooks\";\n\nconst App = props => {\n  const requestUri = `${baseUrl}/${calendarId}/events?${stringify(config)}`;\n  const { data, error, isFetching } = useFetch(requestUri);\n\n  const [filter, setFilter] = useState(\"\");\n  return (\n    <Calendar\n      items={data ? data.items : []}\n      {...{ filter, setFilter, isFetching, error }}\n      {...props}\n    />\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport boot from \"./boot\";\nimport App from \"./app\";\n\nconst { appTarget, isInSidebar } = boot();\n\nif (appTarget) {\n  render(<App fullScreen={!isInSidebar} />, appTarget);\n}\n"],"sourceRoot":""}