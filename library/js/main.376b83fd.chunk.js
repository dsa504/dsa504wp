(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(42),o=function(e){return document.querySelector(e)},i=function(){var e=!1,t=o("#sidebar"),n=o("#dsa-cal-app");return n&&(e=t&&t.contains(n)),{appTarget:n,isInSidebar:!!e}},l=n(4),m=n(5),s=n.n(m),u=n(43),d=n.n(u),p=function(e){var t=e.summary,n=e.description,a=e.start,c=e.end,o=e.location;return r.a.createElement("script",{type:"application/ld+json"},'\n    {\n      "@context": "http://www.schema.org",\n      "@type": "Event",\n      "name", "'.concat(t,'",\n      "description": "').concat(n,'",\n      "startDate": "').concat(a.dateTime,'",\n      "endDate": "').concat(c.dateTime,'",\n      "location": {\n        "@type": "Place",\n        "name" "').concat(o,'",\n        "address": "').concat(o,'"\n      }\n    }\n    '))},f=n(44),g=n.n(f),h="#ec1f27",v={root:{background:"#fff",paddingTop:20,paddingBottom:10,fontSize:16},link:{color:"#222","&:hover, &:focus":{color:h}},name:{margin:0,padding:0,clear:"left",fontSize:function(e){return e.fullScreen?24:18},lineHeight:function(e){return e.fullScreen?"24px":"18px"}},nameLink:{composes:"$link"},description:{margin:0,padding:0,paddingTop:10},date:{fontSize:function(e){return e.fullScreen?22:16},lineHeight:function(e){return e.fullScreen?"24px":"18px"},color:h,float:function(e){return e.fullScreen?"left":"none"}},timespan:{fontSize:function(e){return e.fullScreen?18:13},color:"#797979",float:function(e){return e.fullScreen?"right":"none"}},location:{fontStyle:"italic"},locationLink:{composes:"$link"}};s.a.extend(d.a);var E=g()(v)((function(e){var t=e.summary,n=e.creator,a=e.description,c=e.location,o=e.start,i=e.end,l=e.classes,m=e.htmlLink,u="".concat(s()(o.dateTime).format("MMMM Do")," ").concat(t);return r.a.createElement("div",{className:l.root,itemScope:!0,itemType:"http://schema.org/Event"},r.a.createElement(p,{summary:t,description:a,start:o,end:i,location:c}),r.a.createElement("meta",{itemProp:"startDate",content:o.dateTime}),r.a.createElement("div",null,r.a.createElement("div",{className:l.date},r.a.createElement("strong",null,s()(o.dateTime).format("dddd")),", ",s()(o.dateTime).format("MMMM Do")),r.a.createElement("div",{className:l.timespan},s()(o.dateTime).format("h:mm A")," - ",s()(i.dateTime).format("h:mm A"))),r.a.createElement("a",{href:m,className:l.nameLink},r.a.createElement("h4",{itemProp:"name",className:l.name},t)),r.a.createElement("a",{className:l.link,href:"mailto:".concat(n.email,"?subject=").concat(encodeURIComponent(u))},"\u2709 Contact organizer"),r.a.createElement("a",{className:l.locationLink,href:"https://google.com/maps/search/".concat(encodeURIComponent(c))},r.a.createElement("div",{className:l.location},c)),r.a.createElement("p",{itemProp:"description",className:l.description,dangerouslySetInnerHTML:{__html:a}}))})),S=n(18),y=function(e){var t=e.error,n=e.isFetching,c=e.items,o=e.fullScreen,i=e.filter,l=e.setFilter,m=Object(a.useCallback)((function(e){l(e.target.value)}),[l]);if(n)return r.a.createElement("div",null,"Fetching events\u2026");if(t||!c)return null;var s=c.filter((function(e){return void 0!==e.start})),u=Object(S.uniq)(s.map((function(e){return Object(S.get)(e,"creator.email")}))).sort(),d=i?s.filter((function(e){return Object(S.get)(e,"creator.email")===i})):s;return r.a.createElement("div",null,r.a.createElement("div",{className:"events-filter"},r.a.createElement("select",{onChange:m},r.a.createElement("option",{value:""},"Filter by committee or caucus\u2026"),u.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("a",{style:{color:h,marginLeft:"auto"},href:"https://calendar.google.com/calendar/embed?src=vv0uj9uhqrl6j6m0pugu90uo6c%40group.calendar.google.com&ctz=America%2FChicago"},"Sync with your calendar")),d.map((function(e){return r.a.createElement(E,Object.assign({key:e.id},e,{fullScreen:o}))})))},b=n(47),j=new Date,k=j.toISOString(),T=new Date(j.setMonth(j.getMonth()+3)).toISOString(),M={key:"AIzaSyCdRWsjXcSzRorIYrysYNyFMGOuEcT2X4E",orderBy:"startTime",singleEvents:!0,timeMin:k,timeMax:T},O=n(146),w=function(e){var t="".concat("https://www.googleapis.com/calendar/v3/calendars","/").concat("vv0uj9uhqrl6j6m0pugu90uo6c@group.calendar.google.com","/events?").concat(Object(b.stringify)(M)),n=Object(O.a)(t),c=n.data,o=n.error,i=n.isFetching,m=Object(a.useState)(""),s=Object(l.a)(m,2),u=s[0],d=s[1];return r.a.createElement(y,Object.assign({items:c?c.items:[]},{filter:u,setFilter:d,isFetching:i,error:o},e))},N=i(),F=N.appTarget,I=N.isInSidebar;F&&Object(c.render)(r.a.createElement(w,{fullScreen:!I}),F)},48:function(e,t,n){e.exports=n(144)}},[[48,1,2]]]);
//# sourceMappingURL=main.376b83fd.chunk.js.map